<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>A new Reason for OCaml</title>
  <meta name="description" content="Reason is a collaborative open source projectreleased by Facebook today - and we areincredibly excited to be part of it!Reason is a new approachableinterface...">
  <!-- todo: include this into main.css -->
  <link rel="stylesheet" href="/css/font-awesome.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://ocamllabs.github.io//releases/2016/05/17/a-new-reason-for-ocaml.html">
  <link rel="alternate" type="application/rss+xml" title="OCaml Labs" href="https://ocamllabs.github.io//feed.xml">
</head>

  <body>
    <div class="page-content">
      <div class="container">
        <div class="three columns">
          <header class="site-header">

  <h2 class="logo">
   <a href="/">OCaml Labs</a><br />
   
   <img width="100px" src="/assets/img/origami-camel.png" />
   
  </h2>

  <div class="nav">
    
    <label for="menu-toggle" class="menu-icon">
        <!--div data-icon="ei-navicon"></div-->
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
    </label>
    <input type="checkbox" id="menu-toggle">

    <div class="site-nav">
      <nav>
        <ul class="page-link">
          <li><a href="/">Home</a></li>
          <li><a href="/news">News</a></li>
          <li><a href="/doc">Projects</a></li>
          <li><a href="/community">Community</a></li>
          <li><a href="/people">People</a></li>
          <li><a href="/papers">Papers</a></li>
          <li><a href="/talks">Talks</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/feed.xml">RSS</a></li>
        </ul>
      </nav>
    </div>

  </div>
</header>

        </div>

        <div class="nine columns" style="z-index:100;">
          <div class="wrapper">
            <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="article_header">
    <h1 class="article_title" itemprop="name headline">A new Reason for OCaml</h1>
    <p class="article_meta"><time datetime="2016-05-17T00:00:00+00:00" itemprop="datePublished">May 17, 2016</time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">kc</span></span></p>
  </header>

  <div class="article-content" itemprop="articleBody">
    <p><a href="http://facebook.github.io/reason/">Reason</a> is a collaborative open source project
released by Facebook <a href="https://news.ycombinator.com/item?id=11716975">today</a> - and we are
incredibly excited to be part of it!
Reason is a new approachable
interface to the OCaml language, with the long-term goal of improving
the developer experience by providing a functional syntax and toolchain
for writing, building and sharing code quickly and easily.</p>

<p>OCaml is used widely in large-scale projects by a wide range of
<a href="http://ocaml.org/learn/companies.html">users</a>; within Facebook to build
scalable infrastructure (<a href="http://hacklang.org/">Hack</a>,
<a href="http://flowtype.org/">Flow</a>, and <a href="http://fbinfer.com/">Infer</a>);
providing performance-sensitive applications for <a href="https://www.janestreet.com/">Jane
Street</a>; and a modular system as part of
MirageOS. We are excited to be collaborating on
the Reason project which provides the opportunity to employ the benefits
of OCaml (such as type inference, fast runtime and bare metal
compilation) whilst removing the blockers to progression that have
previously existed.</p>

<p>OCaml presents a strong research-driven (20 years) language base,
pre-existing compilation to Javascript, a thriving ecosystem and a
mature and growing community. Reason builds on these existing strengths
by supplying a syntax familiar to users of Javascript (and other web
programming languages), a powerful editor toolchain and custom REPL.
Javascript is currently the most pervasive web programming language but
can never fully capitalize on static typing in order to improve runtime
performance. Reason aims to utilize valuable features in OCaml and the
package manager OPAM, adding support for popular editors (Merlin support
for Atom) with the larger aim of creating a seamless build environment
with multi-architectural and operating system support.</p>

<h2 id="reason-ocaml-labs-and-wider-collaboration">Reason, OCaml Labs and wider collaboration</h2>

<p>Reason complements and extends the work of the OCaml
Platform project at OCaml Labs. Our focus has been on syntax and editor support,
documentation and adding isolated development and testing environments.
These features are part of the initial open-source release of Reason,
and we will continue to contribute to this collaboration.</p>

<h3 id="build-system">Build system</h3>

<p>Reason aims to reimagine the build process, and create an integrated
build system. Progress in this area has been made using a combination of
Jenga build rules and containers utilizing the existing OPAM workflow
and features.</p>

<p><a href="https://www.docker.com/">Docker</a> containers provide the developer a
sandboxed environment, equipped with all of the development tools,
distributed as a Docker image. This provides the ability to quickly
build, test and deploy applications on multiple architectures and
operating systems, without having to locally install cross-compilers and
manage virtual machines.</p>

<p><a href="https://github.com/janestreet/jenga">Jenga</a> is an expressive and
scalable build system used in production at <a href="https://www.janestreet.com/">Jane
Street</a>, and Atom support for Reason is
built using Jenga and <a href="http://ocsigen.org/js_of_ocaml/">js_of_ocaml</a>.
We envisage a build experience that combines Atom, Docker containers and
Jenga to provide sandboxed builds, automatic namespacing and
autogeneration of Merlin files.</p>

<h3 id="opam-local">Opam local</h3>

<p>The <code class="highlighter-rouge">opam local</code> project’s goal is to enable developers to create
isolated development and testing environments for their OPAM packages.
Associating a switch with a directory via the <code class="highlighter-rouge">opam local create</code>
command overrides the globally-configured switch, ensuring that
associated commands are then isolated to that switch and directory, thus
leaving the global OPAM state unchanged. Developers
can access development lifecycle events defined in their project’s OPAM
files via the `opam package [build|test|doc]` commands. PRs for this
feature are awaiting review:</p>

<ul>
  <li><a href="https://github.com/ocaml/opam/pull/2550">Local subcommand</a></li>
  <li><a href="https://github.com/ocaml/opam/pull/2551">Package subcommand</a></li>
</ul>

<h3 id="merlin">Merlin</h3>

<p><a href="https://github.com/ocaml/merlin">Merlin</a> provides semantics-driven editing features
for OCaml in Vim and Emacs. A Reason frontend has been developed to edit
Reason files and report information in Reason syntax. An
<a href="https://atom.io/">Atom</a>/<a href="http://nuclide.io/">Nuclide</a> integration
enhances the Reason editing experience with features such as context
sensitive completion, jumping to definition and reporting of type
information and errors.</p>

<h3 id="rtop-and-ocaml-403-support">Rtop and OCaml 4.03 support</h3>

<p>Keeping Reason up-to-date with OCaml, we contributed to 4.03 syntax
support for Reason, modifying the OCaml printer to build Reason with
4.03. We contributed to <code class="highlighter-rouge">rtop</code> (a REPL for Reason, an extension of the
powerful <code class="highlighter-rouge">utop</code>) to print results in Reason syntax, rather than OCaml.
We also added the ability to easily switch between Reason and OCaml mode
in <code class="highlighter-rouge">rtop</code> with the <code class="highlighter-rouge">#toggle_syntax</code> directive.</p>

<h3 id="reason-documentation">Reason Documentation</h3>

<p>To ensure high interoperability between OCaml and Reason, documentation
is key. <code class="highlighter-rouge">Redoc</code> is a tool to generate html documentation in Reason
syntax from OCaml sources. It wraps <code class="highlighter-rouge">ocamldoc</code> by adding a custom html
generator for printing in Reason syntax. Example: <a href="http://kcsrk.info/reason_stdlib_docs/Docstrings.html">Reason documentation
of OCaml standard
library</a>. Ongoing
work with <code class="highlighter-rouge">odoc</code> from Jane street will further support this feature.</p>

<h2 id="whats-next">What’s Next?</h2>

<p>An ongoing project at OCL that is gathering pace is to add
multicore as a native feature to OCaml, and by
extension Reason. Concurrency and parallelism as first class citizens
allow asynchronous programs to be written in direct style, employed over
multiple cores, avoiding “callback hell”. Native multicore support will
further aid the building and testing of the next generation of web
applications. Other projects include foreign function bindings to
provide seamless integration with libraries written in C (via
<a href="https://github.com/ocamllabs/ocaml-ctypes">Ctypes</a> and Javascript, and debugging support.
Within the Computer Laboratory we are excited about the potential of
using Reason as a teaching aid, and this is something we are keen to
explore with students and outreach groups.</p>

  </div>

  <div class="article-related">Related Posts</div>
  <ul>
   
     <li><a href="/general/2017/12/14/DerivingCrowbar.html">testing ocaml-migrate-parsetree with `ppx_deriving_crowbar`</a></li>
   
     <li><a href="/general/2017/10/30/WindowsUnicode.html">Windows Unicode Support - A Bug-Fix 12 Years in the Making</a></li>
   
     <li><a href="/general/2017/10/24/Bun.html">Fuzzing for CI Workflows</a></li>
   
     <li><a href="/general/2017/09/27/GithubCI.html">Testing Your Own Fork With OCaml's GitHub CI</a></li>
   
     <li><a href="/general/2017/09/04/OcalPlatformPackaging.html">Platforms, Packaging, Progress</a></li>
   
     <li><a href="/general/2017/08/25/Merlin3WindowsSupport.html">Merlin 3.0.0 on Windows</a></li>
   
     <li><a href="/rfc/2017/07/27/NewGitRFC.html">A New Implementation of Git</a></li>
   
     <li><a href="/releases/2017/07/19/MirageOSLibraryReleases.html">Major Releases of Cohttp, Conduit, DNS and TCP/IP Libraries</a></li>
   
     <li><a href="/releases/2017/07/13/ocaml4.05.html">OCaml 4.05.0 Released</a></li>
   
     <li><a href="/general/2017/06/26/IntelHyperThreadBug.html">Intel Hyper-Threading Bug Uncovered by OCaml Developers</a></li>
   
  </ul>

  <footer class="article-footer">

  <section class="share">
  <a class="share-link" href="" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
    Twitter
  </a>
  <a class="share-link" href="" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
    Facebook
  </a>
  <a class="share-link" href="" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530'); return false;">
    Google+
  </a> 
</section>


  <hr/>

  
<section class="author">
  <div class="authorimage box" style="background: url(/assets/img/kc.png)"></div>
  <div class="authorinfo box">
    <p>Author | <a href=""></a></p>
    <p class="bio">
</p>
  </div>
</section>


  </footer>

</article>

          </div>
        </div>
      </div>
      <footer class="site-footer">
  <div class="container">
    <div class="footer left column one-half">
      <section class="small-font">
        Content © 2012-2017 under a <a href="https://wiki.creativecommons.org/wiki/CC0">CC0</a> license.<br />
        Theme based on <a href="https://github.com/wild-flame/jekyll-simple">Jekyll-Simple</a> by <a href="http://wildflame.me">wildflame</a>.
      </section>
    </div>

    <div class="footer right column one-half">
      <section class="small-font">
        
        <a href="https://github.com/ocamllabs"><i class="fa fa-github fa-2x"></i></a>
        
        
        <a href="https://twitter.com/ocamllabs"><i class="fa fa-twitter fa-2x"></i></a>
        
      </section>
    </div>
  </div>
</footer>
 
    </div>
  </body>
</html>
